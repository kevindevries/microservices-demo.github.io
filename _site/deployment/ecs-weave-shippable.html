<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Microservices Demo: Sock Shop</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <link href="/assets/css/custom.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  </head>
  <body>

    <div class="container">
      <div class="header clearfix">
<div class="header-home"><a href="/">Sock Shop</a></div>
<nav>
  <ul class="nav header-nav">
    <li class=""><a href="/docs/quickstart.html">Quickstart</a></li>
    <li class="active"><a href="/docs/index.html">Docs</a></li>
    <li class=""><a href="/api/index.html">API</a></li>
    <li><a href="https://github.com/microservices-demo" target="_blank">GitHub</a></li>
  </ul>
</nav>
</div>


      <div class="inner">
        <h1>Documentation</h1>

        <div class="row">
          <div class="col-sm-3">
            <ul class="docs-menu">
  <li><a href="/docs/">Introduction</a></li>
  <li><a href="/docs/load-test.html">Load Test</a></li>
  <li><a href="/docs/user-accounts.html">User Accounts</a></li>
</ul>
<ul class="docs-menu">
  <li><span>Docker</span>
    <ul>
      <li><a href="/deployment/docker-compose.html">Docker Compose</a></li>
      <li><a href="/deployment/docker-compose-weave.html">Docker Compose + Weave</a></li>
      <li><a href="/deployment/docker-swarm.html">Docker Swarm</a></li>
      <li><a href="/deployment/micro-sock.html">Micro Sock</a></li>
    </ul>
  </li>
  <li><span>Kubernetes</span>
    <ul>
      <li><a href="/deployment/kubernetes-start.html">Any Kubernetes Cluster</a></li>
      <li><a href="/deployment/kubernetes-minikube.html">Minikube</a></li>
      <li><a href="/deployment/kubernetes.html">Kubernetes + Weave on AWS</a></li>
    </ul>
  </li>
  <li>
    <span>Amazon ECS</span>
    <ul>
      <li><a href="/deployment/ecs.html">ECS</a></li>
      <li><a href="/deployment/ecs-weave-shippable.html">ECS + Weave + Shippable</a></li>
    </ul>
  </li>
  <li><span>Mesos</span>
    <ul>
      <li><a href="/deployment/mesos-cni.html">Mesos + CNI</a></li>
      <li><a href="/deployment/mesos-marathon.html">Mesos + Marathon</a></li>
      <li><a href="/deployment/minimesos-marathon.html">Minimesos + Marathon</a></li>
    </ul>
  </li>
  <li><span>Nomad</span>
    <ul>
      <li><a href="/deployment/nomad.html">Nomad</a></li>
    </ul>
  </li>
  <li><span>Apcera</span>
    <ul>
      <li><a href="/deployment/apcera.html">Apcera</a></li>
    </ul>
  </li>
  <li><span>Monitoring</span>
    <ul>
      <li><a href="/deployment/monitoring-kubernetes.html">Kubernetes</a></li>
      <li><a href="/deployment/monitoring-docker-compose.html">Docker Compose</a></li>
    </ul>
  </li>
</ul>

          </div>
          <div class="col-sm-9">
            <h2 id="container-based-microservices-with-aws-weave-and-shippable">Container-based microservices with AWS, Weave and Shippable</h2>

<h3 id="goal">Goal</h3>
<p>In this scenario, you’ll set up and run the containerized Sock Shop
eCommerce application, with fully automated deployments, in 30
minutes or less.</p>

<p>Your sample application will feature:</p>

<ul>
  <li><strong style="color: orange">Amazon ECS</strong> for container orchestration</li>
  <li><strong style="color: orange">Amazon ECR</strong> for container registry</li>
  <li><strong style="color: orange">Weave Scope</strong> for service discovery and container visualization</li>
  <li><strong style="color: orange">Shippable</strong> for automated CI/CD</li>
</ul>

<p>This page provides the instructions necessary to:</p>

<ul>
  <li>Provision a Weave-enabled Amazon ECS cluster using Cloud Formations and
  deploy all components of the Sock Shop microservices demo application except
  the <a href="https://github.com/microservices-demo/front-end" style="color: orange">front-end</a>
   component</li>
  <li>Configure a CI/CD pipeline to manage deployment of the
  <a href="https://github.com/microservices-demo/front-end" style="color: orange">
  front-end</a> service using Shippable</li>
</ul>

<hr />

<h3 id="fork-and-clone-the-repos">Fork and clone the repos</h3>
<p>To get started, you’ll need to fork and clone two GitHub repos.</p>

<ol>
  <li>
    <p>Fork the <a href="https://github.com/microservices-demo/microservices-demo" style="color: orange">microservices-demo</a>
GitHub repo to your personal <a href="https://github.com/join?source=header-home" style="color: orange">GitHub account</a></p>
  </li>
  <li>
    <p>Clone your fork locally on your machine</p>
    <ul>
      <li>Click the green <code class="highlighter-rouge">Clone or download</code> button</li>
      <li>Copy the URL for your forked repo that appears</li>
      <li>Open a command line on your local machine and execute the command:</li>
    </ul>
    <pre>$ git clone <i>your_forked_url</i></pre>
  </li>
</ol>

<ol start="3">
  <li>
    <p>Repeat steps 1-3 for the <a href="https://github.com/microservices-demo/front-end" style="color: orange">
front-end</a> repo

</p>
  </li>
</ol>
<hr />

<h3 id="provision-amazon-ecs-cluster">Provision Amazon ECS cluster</h3>
<p>Now, you’ll provision a Weave-enabled Amazon ECS cluster and deploy all services
except for the front-end service.</p>

<ol>
  <li>
    <p>Log into <a href="https://console.aws.amazon.com/console/home" style="color: orange">Amazon Management Console</a></p>
  </li>
  <li>
    <p>Navigate to <a href="https://console.aws.amazon.com/cloudformation" style="color: orange">CloudFormation</a></p>
  </li>
  <li>
    <p>Select <code class="highlighter-rouge">Create Stack</code></p>
  </li>
  <li>
    <p>Under <code class="highlighter-rouge">Choose a template</code>, select <code class="highlighter-rouge">Choose file</code> or <code class="highlighter-rouge">Browse</code></p>
  </li>
  <li>
    <p>Navigate to the directory where you cloned the <span style="color: orange">
microservices-demo</span> repo
and choose to upload the file <code class="highlighter-rouge">./deploy/aws-ecs-shippable/cloudformation.json</code></p>
  </li>
  <li>
    <p>Complete the form fields with the following values and select `Next`</p>
    <ul>
      <li>Stack name: <code class="highlighter-rouge">ecs-weave-shippable-demo</code></li>
      <li>DeployExampleApp: <code class="highlighter-rouge">Yes</code></li>
      <li>EcsInstanceType: <code class="highlighter-rouge">t2.medium</code></li>
      <li>KeyName: <code class="highlighter-rouge">choose an existing key pair or leave blank to create a new one</code></li>
      <li>Scale: <code class="highlighter-rouge">4</code></li>
      <li>WeaveCloudServiceToken: <code class="highlighter-rouge">leave blank</code></li>
    </ul>
  </li>
</ol>

<ol start="7">
  <li>
    <p>Leave all form fields on the <code class="highlighter-rouge">Options</code> page as-is and select <code class="highlighter-rouge">Next</code></p>
  </li>
  <li>
    <p>Click the <code class="highlighter-rouge">'I acknowledge ...'</code> boxes at bottom and select <code class="highlighter-rouge">Create</code></p>
  </li>
</ol>

<p><strong style="color: orange">CloudFormation</strong> will now create the entire stack
necessary to run your eCommerce demo app on Amazon ECS. This will several
minutes to complete and it will provision compute on AWS.</p>

<p>When your stack creation finishes with <code class="highlighter-rouge">CREATE_COMPLETE</code>, you’ll find values of
AWS resources needed for the CI/CD pipeline setup available on the <code class="highlighter-rouge">Outputs</code> tab.
Take note of the following values:
  * TargetGroupARNTest
  * TargetGroupARNProd
  * TestALB
  * ProdALB</p>

<hr />

<h3 id="configure-an-automated-cicd-pipeline">Configure an automated CI/CD pipeline</h3>

<p>Your Weave-enabled Amazon ECS cluster should now be running 15 out of the 16 services
of the Sock Shop application (verify this by navigating to <a href="https://console.aws.amazon.com/ecs/home#/clusters/ecs-weave-shippable-demo/services">EC2 Container Service</a>).
We’ll use Shippable to set up an automated CI/CD pipeline to deploy the
<a href="https://github.com/microservices-demo/front-end" style="color: orange">
front-end</a> service.</p>

<ol>
  <li>
    <p>Create a <a href="https://www.shippable.com" style="color: orange">Shippable</a>
account (if you don’t already have one) by logging in with your
GitHub credentials</p>
  </li>
  <li>
    <p>Enable the <span style="color: orange">front-end</span> repo for <span style="color: orange">
CI</span> in Shippable</p>
    <ul>
      <li>In your local copy of the <code class="highlighter-rouge">front-end</code> repo, you’ll need to update the <code class="highlighter-rouge">GROUP</code>
 environment variable in the shippable.yml configuration file with your values
 from your AWS environment (i.e. your Account ID and Region):</li>
      <li>Replace the Amazon ECR registry URL with the URL for your Container registry,
 e.g. <code class="highlighter-rouge">288971733297.dkr.ecr.us-east-1.amazonaws.com/front-end</code> (you can copy/paste
this URL by selecting <code class="highlighter-rouge">View Push Commands</code> on <a href="https://console.aws.amazon.com/ecs/home#/repositories/front-end#images;tagStatus=ALL" style="color: orange">this page</a>)
        <pre>
env:
  global:
    - GROUP=288971733297.dkr.ecr.us-east-1.amazonaws.com
</pre>
      </li>
      <li>If you deployed your cluster to another region besides <code class="highlighter-rouge">us-east-1</code>, also
 update the <code class="highlighter-rouge">region</code> value accordingly:
        <pre>
integrations:
  hub:
    - integrationName: shippable-ecr  # must match Subscription Integration in Shippable
      type: ecr
      region: us-east-1
</pre>
      </li>
      <li>Commit and push your changes to Github
        <pre>
$ git commit -am 'update shippable.yml with my AWS details'
$ git push origin master
</pre>
      </li>
      <li>Select your Subscription from the drop-down menu (three horizontal lines)
 in upper left</li>
      <li>Select <code class="highlighter-rouge">Enable project</code> in left-hand nav</li>
      <li>Find the <code class="highlighter-rouge">front-end</code> repo in the list and select <code class="highlighter-rouge">Enable</code></li>
      <li>Verify that your <code class="highlighter-rouge">front-end</code> project has been enabled:
 <img src="/assets/img/shippable-pipeline-2.png" alt="front-end-enable" width="600px" /></li>
    </ul>
  </li>
</ol>

<ol start="3">
  <li>
    <p>Create the <span style="color: orange">front-end CD pipeline</span></p>
    <p>In your local copy of the microservices-demo repo, you’ll need to update
the <code class="highlighter-rouge">shippable.resource.yml</code> configuration file with values from your AWS
environment:</p>
    <ul>
      <li>
        <p>Resource <code class="highlighter-rouge">img-front-end</code></p>

        <pre>
# Docker image information
  - name: img-front-end
    type: image
    pointer:
      sourceName: 288971733297.dkr.ecr.us-east-1.amazonaws.com/front-end
      isPull: false
    seed:
      versionName: master.1
</pre>
        <ul>
          <li>Replace the Amazon ECR registry URL with the URL for your Container
registry,  e.g. <code class="highlighter-rouge">288971733297.dkr.ecr.us-east-1.amazonaws.com/front-end</code></li>
          <li>You can copy/paste this URL by selecting <code class="highlighter-rouge">View Push Commands</code> on
<a href="https://console.aws.amazon.com/ecs/home#/repositories/front-end#images;tagStatus=ALL" style="color: orange">
this page</a> or finding the value for <code class="highlighter-rouge">EcrRepo</code> in your CloudFormation Outputs</li>
        </ul>
        <p></p>
      </li>
      <li>
        <p>Resource <code class="highlighter-rouge">alb-front-end-test</code></p>

        <pre>
# AWS ALB target group for TEST environment
  - name: alb-front-end-test     #required
    type: loadBalancer      #required
    pointer:
      sourceName: "arn:aws:elasticloadbalancing:us-east-1:288971733297:targetgroup/frontendTESTTG/102776f0c4a71605"
      method: application
</pre>
        <ul>
          <li>Replace the value for <code class="highlighter-rouge">sourceName</code> to be the ARN for your Target Group
named <code class="highlighter-rouge">frontendTESTTG</code></li>
          <li>You can find this in <a href="https://console.aws.amazon.com/ec2/v2/home#TargetGroups:" style="color: orange">EC2-Target Groups</a>
or in the value for <code class="highlighter-rouge">TargetGroupARNTest</code> in your CloudFormation Outputs</li>
        </ul>
        <p></p>
      </li>
      <li>
        <p>Resource <code class="highlighter-rouge">alb-front-end-prod</code></p>

        <pre>
# AWS ALB target group for PROD environment
  - name: alb-front-end-prod     #required
    type: loadBalancer      #required
    pointer:
      sourceName: "arn:aws:elasticloadbalancing:us-east-1:288971733297:targetgroup/frontendPRODTG/1a91e8d308e7f76e"
      method: application
</pre>
        <ul>
          <li>Replace the value for <code class="highlighter-rouge">sourceName</code> to be the ARN for your Target Group
named <code class="highlighter-rouge">frontendPRODTG</code></li>
          <li>You can find this in <a href="https://console.aws.amazon.com/ec2/v2/home#TargetGroups:" style="color: orange">EC2-Target Groups</a>
or in the value for <code class="highlighter-rouge">TargetGroupARNProd</code> in your CloudFormation Outputs</li>
        </ul>
        <p></p>
      </li>
    </ul>

    <p>If you’re running your cluster in a region other than <code class="highlighter-rouge">us-east-1</code>:
 * Resource <code class="highlighter-rouge">cluster-demo-ecs</code></p>

    <pre>
   # AWS cluster information
     - name: cluster-demo-ecs
       type: cluster
       integration: shippable-aws
       pointer:
         sourceName : "ecs-weave-shippable-demo"
         region: "us-east-1"
   </pre>
    <ul>
      <li>Replace the value for <code class="highlighter-rouge">region</code> to be the AWS region where you’re running
   your cluster</li>
    </ul>
    <p></p>

    <p>Now, load your Pipeline configuration files into Shippable:</p>

    <ul>
      <li>Select the <code class="highlighter-rouge">Pipelines</code> tab, <code class="highlighter-rouge">Resources</code> view, and then <code class="highlighter-rouge">Add Resource</code>
 button (far right)</li>
      <li>In the Subscription Integrations dropdown: choose <code class="highlighter-rouge">Add integration</code> and
 complete the fields, as follows:
        <ul>
          <li>Name: name your integration <code class="highlighter-rouge">github</code></li>
          <li>Account Integrations: select <code class="highlighter-rouge">github</code> from the list</li>
          <li>Projects Permissions: leave as <code class="highlighter-rouge">All projects</code></li>
          <li>Select <code class="highlighter-rouge">Save</code></li>
        </ul>
      </li>
      <li>Select Project dropdown: choose <code class="highlighter-rouge">microservices-demo</code> project</li>
      <li>Select Branch dropdown: choose <code class="highlighter-rouge">master</code></li>
      <li>Select <code class="highlighter-rouge">Save</code></li>
      <li>Select <code class="highlighter-rouge">SPOG</code> view and verify that your pipeline has been loaded
 <img src="/assets/img/shippable-pipeline-3.png" alt="pipeline-load" width="600px" /></li>
    </ul>
  </li>
</ol>

<ol start="4">
  <li>
    <p>Configure an integration between <span style="color: orange">Shippable</span>
 and <span style="color: orange">Amazon ECR</span></p>
    <ul>
      <li>Navigate to <code class="highlighter-rouge">Account Settings</code> via the gear icon in the upper right</li>
      <li>Select <code class="highlighter-rouge">Integrations</code> tab</li>
      <li>Select <code class="highlighter-rouge">Add Integration</code></li>
      <li>Select <code class="highlighter-rouge">Amazon ECR</code> from the list and complete the fields, as follows:
        <ul>
          <li>Integration Name: name your integration <code class="highlighter-rouge">shippable-ecr</code></li>
          <li>Login to your AWS Management Console and navigate to the <a href="https://console.aws.amazon.com/iam/home#users" style="color: orange">shippableDemoUser</a> IAM user, select <code class="highlighter-rouge">Security credentials</code>, and then select <code class="highlighter-rouge">Create Access Key</code></li>
          <li>Copy/paste the Aws_access_key_id and Aws_secret_access_key into the
Shippable fields (also, keep these values for use in step 5)</li>
          <li>Select <code class="highlighter-rouge">Save</code></li>
        </ul>
      </li>
      <li>Now, assign your Account Integration for use by your Subscription</li>
      <li>Select your Subscription from the dropdown menu in upper left (three
horizontal lines)</li>
      <li>Select <code class="highlighter-rouge">Settings</code> tab, <code class="highlighter-rouge">Integrations</code> tab, and <code class="highlighter-rouge">Add Integration</code></li>
      <li>Complete the fields with the following values:
        <ul>
          <li>Name: shippable-ecr</li>
          <li>Account Integrations: select <code class="highlighter-rouge">shippable-ecr</code> from the list</li>
          <li>Project Permissions: leave <code class="highlighter-rouge">All projects</code> selected</li>
          <li>Select <code class="highlighter-rouge">Save</code></li>
        </ul>
        <p></p>
        <p><img src="/assets/img/shippable-pipeline-4.png" alt="sub-integration-ecr" width="600px" /></p>
      </li>
    </ul>
  </li>
</ol>

<ol start="5">
  <li>
    <p>Configure an integration between <span style="color: orange">Shippable</span>
and <span style="color: orange">Amazon ECS</span></p>
    <ul>
      <li>Navigate to <code class="highlighter-rouge">Account Settings</code> via the gear icon in upper right</li>
      <li>Select <code class="highlighter-rouge">Integrations</code> tab</li>
      <li>Select <code class="highlighter-rouge">Add Integration</code></li>
      <li>Select <code class="highlighter-rouge">AWS</code> from the list</li>
      <li>Name your integration <code class="highlighter-rouge">shippable-aws</code></li>
      <li>Copy/paste the <code class="highlighter-rouge">Aws_access_key_id</code> and <code class="highlighter-rouge">Aws_secret_access_key</code> into the
 Shippable fields (use the same values from step 4 above)</li>
      <li>Select <code class="highlighter-rouge">Save</code></li>
      <li>Now, assign your Account Integration for use by your Subscription</li>
      <li>Select your Subscription from the dropdown menu in upper left (three lines)</li>
      <li>Select <code class="highlighter-rouge">Settings</code> tab, <code class="highlighter-rouge">Integrations</code> tab, and <code class="highlighter-rouge">Add Integration</code></li>
      <li>Complete the fields with the following values:
        <ul>
          <li>Name: shippable-aws</li>
          <li>Account Integrations: select <code class="highlighter-rouge">shippable-aws</code> from the list</li>
          <li>Project Permissions: leave <code class="highlighter-rouge">All projects</code> selected</li>
          <li>Select <code class="highlighter-rouge">Save</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<ol start="6">
  <li>
    <p>Link <span style="color: orange">CI</span> to your <span style="color: orange">
Pipeline</span> via an <span style="color: orange">Event Trigger</span></p>
    <ul>
      <li>Navigate to <code class="highlighter-rouge">Account Settings</code> via the gear icon in upper right</li>
      <li>Navigate to the ‘API tokens’ tab, create an API Token, and save it (you’ll need
  it again shortly)</li>
      <li>Select <code class="highlighter-rouge">Integrations</code> tab</li>
      <li>Select <code class="highlighter-rouge">Add Integration</code></li>
      <li>Select <code class="highlighter-rouge">Event Trigger</code> from list</li>
      <li>Name your integration <code class="highlighter-rouge">trigger-img-front-end</code></li>
      <li>Select <code class="highlighter-rouge">Resource</code> in the <code class="highlighter-rouge">Select Trigger</code> dropdown</li>
      <li>Select the <code class="highlighter-rouge">img-front-end</code> resource you created in your pipeline</li>
      <li>In Authorization field, enter ‘apiToken ‘ + your API token from above</li>
      <li>Select <code class="highlighter-rouge">Save</code>
 <img src="/assets/img/shippable-pipeline-6-1.png" alt="acct-integration-trigger" width="600px" /></li>
      <li>Now, assign your Account Integration for use by your Subscription</li>
      <li>Select your Subscription from the dropdown menu in upper left</li>
      <li>Select <code class="highlighter-rouge">Settings</code> tab, <code class="highlighter-rouge">Integrations</code> tab, and <code class="highlighter-rouge">Add Integration</code></li>
      <li>Complete the fields with the following values:
        <ul>
          <li>Name: trigger-img-front-end</li>
          <li>Account Integrations: select <code class="highlighter-rouge">trigger-img-front-end</code> from the list</li>
          <li>Project Permissions: leave <code class="highlighter-rouge">All projects</code> selected</li>
          <li>Select <code class="highlighter-rouge">Save</code></li>
        </ul>
        <p></p>
        <p><img src="/assets/img/shippable-pipeline-6-2.png" alt="sub-integration-trigger" width="600px" /></p>
      </li>
    </ul>
  </li>
</ol>

<ol start="7">
  <li>
    <p>Run CI and trigger deployment of the `front-end` service to the
<span style="color: orange">Test environment</span></p>
    <ul>
      <li>Select the <code class="highlighter-rouge">CI</code> tab</li>
      <li>Select the <code class="highlighter-rouge">Build</code> button for the <code class="highlighter-rouge">front-end</code> project</li>
      <li>View the CI console as your CI run executes
  <img src="/assets/img/shippable-pipeline-7-1.png" alt="ci-front-end" width="600px" /></li>
      <li>Navigate to the <code class="highlighter-rouge">Pipelines</code> tab and see your Pipeline execute</li>
      <li>You’ll see the CI job run and push a new image to Amazon ECR</li>
      <li>Then a new Manifest job will run to update with the newest image tag</li>
      <li>Then a Deploy job will run to deploy to Amazon ECS
  <img src="/assets/img/shippable-pipeline-7-2.png" alt="pipeline-test" width="600px" /></li>
      <li>View your application running your <code class="highlighter-rouge">Test</code> front-end in your browser at <code class="highlighter-rouge"><span class="p">{</span><span class="err">your</span><span class="w"> </span><span class="err">ALB</span><span class="w"> </span><span class="err">address</span><span class="p">}</span><span class="err">:</span><span class="mi">8080</span></code> (See CloudFormation-Outputs for address)
  <img src="/assets/img/shippable-pipeline-7-3.png" alt="front-end-test" width="600px" /></li>
    </ul>
  </li>
</ol>

<ol start="8">
  <li>
    <p>Deploy to the <span style="color: orange">Prod environment</span></p>
    <ul>
      <li>Right-click the <code class="highlighter-rouge">ecs-deploy-prod</code> job and select <code class="highlighter-rouge">Run</code></li>
      <li>A Deploy job will run and deploy a Prod instance of <code class="highlighter-rouge">front-end</code> to Amazon ECS</li>
      <li>View your application running your <code class="highlighter-rouge">Prod</code> front-end in your browser at <code class="highlighter-rouge"><span class="p">{</span><span class="err">your</span><span class="w"> </span><span class="err">ALB</span><span class="w"> </span><span class="err">address</span><span class="p">}</span></code> (it should look identical to your <code class="highlighter-rouge">Test</code> front-end)</li>
    </ul>
  </li>
</ol>

<ol start="9">
  <li>
    <p>Make a change to your front-end service and <span style="color: orange">
auto-deploy to the Test environment</span></p>
    <ul>
      <li>In your editor, open the <code class="highlighter-rouge">public/css/style.blue.css</code> file for the <code class="highlighter-rouge">front-end</code> repo</li>
      <li>Toggle lines 1273 and 1274 (i.e. comment out line 1273, and un-comment line 1274 or
 vice-versa). This will switch the color of the active tab on the home page
 between blue and green.</li>
      <li>Commit your changes to GitHub
        <pre>
$ git commit -am 'update color of active tab on front-end home page'
$ git push origin master
</pre>
      </li>
      <li>View the automated CI/CD flow in Pipeline view in Shippable, which will result
  in the code change being deployed to your Test environment</li>
      <li>In your browser, navigate again to your Test environment (on port 8080) and
  confirm that the change was deployed successfully
  <img src="/assets/img/shippable-pipeline-9.png" alt="front-end-test-2" width="600px" /></li>
    </ul>
  </li>
</ol>

<ol start="10">
  <li>
    <p>Explore!</p>
    <ul>
      <li>Retrieve the IP address of any of your <a href="https://console.aws.amazon.com/ecs/home#/clusters/ecs-weave-shippable-demo/containerInstances" style="color: orange">cluster instances</a></li>
      <li>Navigate to <code class="highlighter-rouge">http://{your IP address}:4040</code> to view the Weave visualization of
  your containerized application. Click around to see various info on your services.
  <img src="/assets/img/weavescope-10-1.png" alt="weavescope" width="600px" /></li>
      <li>Navigate to <a href="https://console.aws.amazon.com/ecs/home#/clusters/ecs-weave-shippable-demo/services" style="color: orange">the
  AWS Management Console</a> and explore the different elements of your cluster in Amazon ECS
  <img src="/assets/img/amazon-ecs-10-2.png" alt="amazon-ecs" width="600px" /></li>
      <li>Navigate to your Amazon ECR repository to view your newly created Docker images</li>
      <li>
        <p>Select <code class="highlighter-rouge">Repositories</code> in the left-hand nav from your cluster page
  <img src="/assets/img/amazon-ecr-10-3.png" alt="amazon-ecr" width="600px" /></p>
      </li>
      <li>Explore additional elements of your Shippable Pipelines:
        <ul>
          <li>Select the <code class="highlighter-rouge">Jobs</code> view in the Pipelines tab and click on the <code class="highlighter-rouge">Latest Version</code>
number for the <code class="highlighter-rouge">ecs-deploy-test-front-end</code> job.</li>
          <li>For the most recent version, select <code class="highlighter-rouge">More</code> and <code class="highlighter-rouge">Trace</code> to see details of the
elements included in this latest deployment to the Test environment</li>
          <li>Expand the <code class="highlighter-rouge">man-front-end</code> Resource Name
<img src="/assets/img/shippable-pipeline-10-4.png" alt="pipeline-trace" width="600px" /></li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="delete-your-cloudformation-stack">Delete your CloudFormation stack</h3>
<p>When finished exploring, return to the <a href="https://console.aws.amazon.com/cloudformation/home#/stacks" style="color: orange">AWS Management Console - CloudFormation page</a>, select the <code class="highlighter-rouge">ecs-weave-shippable-demo</code> stack, select <code class="highlighter-rouge">Actions</code> and <code class="highlighter-rouge">Delete
Stack</code> to remove all resources related to this demo.</p>

          </div>
        </div>

      </div>

      <div class="footer">
        <p>&copy;2017 <a href="http://weave.works/" target="_blank">Weaveworks, Inc</a></p>
      </div>

    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-57286487-2', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
